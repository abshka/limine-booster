# This is an install script for the limine-booster package.

# This function is executed after the package is installed.
post_install() {
    # Use printf for better formatting control and portability.
    printf "\n"
    printf ">>> %s has been installed.\n" "limine-booster"
    printf ">>> Please follow these steps to complete the setup:\n"
    printf "\n"
    printf "  \033[1;34m1. Configure the package:\033[0m\n"
    printf "     Edit /etc/default/limine-booster.conf and edit KERNEL_CMDLINE variable.\n"
    printf "     This variable is used to pass kernel parameters to the Booster image.\n"
    printf "     You can also set TARGET_ENTRY_NAME to match the title of your Limine\n"
    printf "     boot entry. The default is 'Arch Linux (Booster)'.\n"
    printf "\n"
    printf "  \033[1;34m2. Create a Limine boot entry:\033[0m\n"
    printf "     Add a new entry to your /boot/limine.conf. The title must match\n"
    printf "     TARGET_ENTRY_NAME from the config file. Example:\n"
    printf "\n"
    printf "     \033[0;32m/Arch Linux (Booster)\n"
    printf "         comment: This entry is managed by limine-booster\n"
    printf "         protocol: linux\n"
    printf "         # The script will automatically populate the paths below.\033[0m\n"
    printf "\n"
    printf "  \033[1;34m3. Run the update script manually for the first time:\033[0m\n"
    printf "     This will generate the initial Booster image and update your new entry.\n"
    printf "     \033[0;32msudo limine-booster-update\033[0m\n"
    printf "\n"
}

# This function is executed after the package is upgraded.
# We simply call post_install to show the instructions again,
# in case the new version requires configuration changes.
post_upgrade() {
    post_install
}

# The post_remove function is usually empty unless you need to clean up
# files that pacman doesn't track. In our case, it's not needed.
# post_remove() {
# }
